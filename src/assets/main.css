/* Mobile padding fix - v2 */

/* CRITICAL: Force mobile padding */
@media screen and (max-width: 768px) {
  .container {
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }
}

:root{--bg:#f5f5f4;--fg:#1c1917;--muted:#5f6368;--link:#3b6ea8;--border:#ededed;--max:760px;--radius:10px;--card:#ffffff;--code-bg:#f6f8fa}
@media (prefers-color-scheme: dark){:root{--bg:#f5f5f4;--fg:#1c1917;--muted:#5f6368;--link:#3b6ea8;--border:#ededed;--card:#ffffff;--code-bg:#f6f8fa}}

*{box-sizing:border-box}
html,body{
  margin:0;
  padding:0;
  background:var(--bg);
  color:var(--fg);
  font-family:"Inter", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height:1.7;
  font-size:16px;
}
.container{
  max-width:var(--max);
  margin:0 auto;
  padding:0 24px;
}

/* Header & footer */
.site-header{
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(180%) blur(8px);
  background:rgba(255,255,255,0.8);
}
.site-footer{
  border-top:1px solid var(--border);
  margin-top:1.5rem;
  padding:32px 0;
}
.site-header .container,.site-footer .container{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:20px 0;
}
.brand{
  font-weight:800;
  font-size:1.25rem;
  letter-spacing:-0.025em;
}
.brand,.brand:visited{
  color:var(--fg);
  text-decoration:none;
}
.brand:hover,.brand:active,.brand:focus{
  color:var(--fg);
  text-decoration:none;
}
h1,h2,h3{
  font-weight:600;
  letter-spacing:-0.025em;
}
.nav{
  display:flex;
  gap:12px;
}
.nav .icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  border-radius:999px;
  border:1px solid var(--border);
  color:var(--fg);
  text-decoration:none;
  transition:all 0.2s ease;
}
.nav .icon:hover{
  color:var(--fg);
  background:rgba(0,0,0,.05);
  transform:translateY(-1px);
}

/* Buttons */
.btn{
  display:inline-block;
  padding:8px 16px;
  border:1px solid var(--border);
  border-radius:999px;
  text-decoration:none;
  color:var(--fg);
  font-size:.95rem;
  background:transparent;
  transition:all 0.2s ease;
}
.btn:hover{
  background:rgba(0,0,0,.05);
  transform:translateY(-1px);
}
.btn.subtle{
  border-color:transparent;
  background:transparent;
  color:var(--muted);
}
.btn.subtle:hover{
  color:var(--fg);
  background:rgba(0,0,0,.05);
}

/* Page layout */
main.container{
  padding:40px 0;
}
.page h1{
  font-size:2.5rem;
  margin:0 0 16px;
  line-height:1.2;
}
.lede{
  color:var(--muted);
  margin:0 0 32px;
  font-size:1.125rem;
  line-height:1.6;
}

/* Post list */
.posts{
  display:grid;
  gap:20px;
  margin-top:24px;
}
.post-card{
  display:block;
  padding:24px;
  border:1px solid var(--border);
  border-radius:var(--radius);
  color:inherit;
  text-decoration:none;
  transition:all 0.2s ease;
  background:var(--card);
  box-shadow:var(--shadow);
}
.post-card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-lg);
}
.post-card h2{
  margin:0 0 8px;
  font-size:1.25rem;
  line-height:1.3;
}
.post-card time{
  font-size:.9rem;
  color:var(--muted);
  display:block;
  margin-bottom:8px;
}
.post-card p{
  margin:0;
  color:var(--muted);
  line-height:1.5;
}

/* Post content */
.post h1{
  font-size:2.75rem;
  margin:0 0 1rem;
  line-height:1.2;
}
.post .post-date{
  color:var(--muted);
  font-size:.95rem;
  margin-bottom:2rem;
  display:block;
}
.content{
  margin-top:2rem;
  line-height:1.7;
}
.content p{
  margin:0 0 1.5rem;
}
.content h2{
  font-size:1.75rem;
  margin:3rem 0 1rem;
  line-height:1.3;
}
.content h3{
  font-size:1.375rem;
  margin:2.5rem 0 0.75rem;
  line-height:1.3;
}
.content h4{
  font-size:1.125rem;
  margin:2rem 0 0.5rem;
  line-height:1.4;
}
.content img{
  max-width:100%;
  border-radius:12px;
  margin:1.5rem 0 0.25rem 0;
  box-shadow:var(--shadow);
}
.content img + p{
  margin-top:0.125rem;
  margin-bottom:1.5rem;
  font-size:0.9rem;
  color:var(--muted);
  font-style:italic;
  text-align:center;
}
.content pre{
  overflow:auto;
  background:var(--code-bg);
  color:var(--fg);
  padding:1.25rem;
  border-radius:12px;
  font-size:.9rem;
  line-height:1.5;
  margin:1.5rem 0;
  border:1px solid var(--border);
}
.content code{
  background:rgba(0,0,0,.08);
  padding:.2em .4em;
  border-radius:6px;
  font-size:.9em;
  font-family:"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
}
.content a{
  color:var(--link);
  text-decoration:none;
  border-bottom:1px solid transparent;
  transition:border-color 0.2s ease;
}
.content a:hover{
  border-bottom-color:var(--link);
}
.content blockquote{
  margin:1.5rem 0;
  padding:1rem 1.5rem;
  border-left:4px solid var(--border);
  color:var(--muted);
  background:rgba(0,0,0,.02);
  border-radius:0 8px 8px 0;
  font-style:italic;
}
.content table{
  border-collapse:collapse;
  width:100%;
  overflow:auto;
  background:var(--card);
  border-radius:8px;
  margin:1.5rem 0;
  box-shadow:var(--shadow);
}
.content th,.content td{
  border:1px solid var(--border);
  padding:12px 16px;
  text-align:left;
}
.content th{
  background:rgba(0,0,0,.05);
  font-weight:600;
}
ul,ol{
  padding-left:1.5rem;
  margin:0 0 1.5rem;
}
ul li,ol li{
  margin:0.5rem 0;
}
hr{
  border:0;
  border-top:1px solid var(--border);
  margin:3rem 0;
}

/* Footer */
.footer-wrap{
  display:flex;
  align-items:center;
  justify-content:space-between;
  width:100%;
}
.footer-social{
  display:flex;
  gap:12px;
}
.site-footer .icon{
  border-color:var(--border);
  color:var(--fg);
  transition:all 0.2s ease;
}
.site-footer .icon:hover{
  background:rgba(0,0,0,.05);
  transform:translateY(-1px);
}

/* References */
.references{
  margin-top:3rem;
}
.references h4{
  font-size:1.125rem;
  margin:0 0 1.25rem;
  color:var(--muted);
}
.references ol{
  padding-left:0;
  list-style:none;
  counter-reset:ref-counter;
}
.references li{
  counter-increment:ref-counter;
  margin:1rem 0 0 0;
  padding-left:2rem;
  position:relative;
}
.references li:last-child{
  margin-bottom:0;
}
.references li::before{
  content:counter(ref-counter);
  position:absolute;
  left:0;
  top:0;
  font-weight:600;
  color:var(--muted);
}
.references a{
  color:var(--link);
  text-decoration:none;
}
.references a:hover{
  text-decoration:underline;
}

/* Mobile-first responsive design */
@media screen and (max-width: 768px){
  .container{
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }
  
  /* Force mobile padding on all containers */
  main.container,
  .site-header .container,
  .site-footer .container {
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }
  
  /* Typography scaling */
  .post h1{
    font-size:2rem;
    line-height:1.1;
    margin-bottom:0.75rem;
  }
  .page h1{
    font-size:1.875rem;
    line-height:1.2;
  }
  .content h2{
    font-size:1.5rem;
    margin:2rem 0 0.75rem;
  }
  .content h3{
    font-size:1.25rem;
    margin:1.75rem 0 0.5rem;
  }
  .content h4{
    font-size:1.125rem;
    margin:1.5rem 0 0.375rem;
  }
  
  /* Content spacing adjustments */
  .content{
    margin-top:1.5rem;
  }
  .content p{
    margin-bottom:1.25rem;
  }
  .content img{
    margin:1.25rem 0;
  }
  .content pre{
    padding:1rem;
    margin:1.25rem 0;
    font-size:0.85rem;
  }
  .content blockquote{
    margin:1.25rem 0;
    padding:0.75rem 1rem;
  }
  .content table{
    margin:1.25rem 0;
    font-size:0.9rem;
  }
  .content th,.content td{
    padding:8px 12px;
  }
  
  /* Cards and layout */
  .post-card{
    padding:1.25rem;
  }
  .posts{
    gap:1rem;
    margin-top:1rem;
  }
  
  /* Header adjustments */
  .site-header .container{
    padding:1rem 0;
  }
  .brand{
    font-size:1.125rem;
  }
  .nav{
    gap:8px;
  }
  .nav .icon{
    width:32px;
    height:32px;
  }
  
  /* Footer */
  .site-footer{
    margin-top:3rem;
    padding:2rem 0;
  }
  .footer-wrap{
    flex-direction:column;
    gap:1rem;
    text-align:center;
  }
  
  /* References */
  .references{
    margin-top:2rem;
  }
  .references li{
    margin:0.75rem 0;
    padding-left:1.5rem;
  }
}

/* Extra small screens */
@media screen and (max-width: 480px){
  .container{
    padding-left: max(1.75rem, 6vw) !important;
    padding-right: max(1.75rem, 6vw) !important;
  }
  
  /* Force mobile padding on all containers */
  main.container,
  .site-header .container,
  .site-footer .container {
    padding-left: max(1.75rem, 6vw) !important;
    padding-right: max(1.75rem, 6vw) !important;
  }
  
  .post h1{
    font-size:1.75rem;
  }
  .page h1{
    font-size:1.625rem;
  }
  .content h2{
    font-size:1.375rem;
  }
  .content h3{
    font-size:1.125rem;
  }
  
  .post-card{
    padding:1rem;
  }
  
  .content pre{
    padding:0.75rem;
    font-size:0.8rem;
  }
  
  .content table{
    font-size:0.85rem;
  }
  .content th,.content td{
    padding:6px 8px;
  }
}

/* Very small screens - ensure minimum padding */
@media screen and (max-width: 360px){
  .container{
    padding-left: max(1.5rem, 8vw) !important;
    padding-right: max(1.5rem, 8vw) !important;
  }
  
  /* Force mobile padding on all containers */
  main.container,
  .site-header .container,
  .site-footer .container {
    padding-left: max(1.5rem, 8vw) !important;
    padding-right: max(1.5rem, 8vw) !important;
  }
  
  .post-card{
    padding:0.875rem;
  }
  
  .content pre{
    padding:0.625rem;
    font-size:0.75rem;
  }
}
